<ion-header>
  <ion-toolbar color="gray">
    <ion-button
      slot="start"
      (click)="deleteEpic()"
      fill="outline"
      color="danger"
      size="small"
      style="margin-right: 10px"
      *ngIf="showField"
    >
      delete
    </ion-button>

    <!-- added by  ankit to add epic Manager -->
    <!-- <ion-select
      aria-label="Fruit"
      placeholder="Select Epic Manager"
      [multiple]="true"
      [(ngModel)]="selectedUsers"
    >
      <ion-select-option
        *ngFor="let user of projectMembers; index as i"
        style="text-align: left"
        [value]="user.employeeId"
      >
        {{user.firstName || ''}} {{user.lastName || ''}}
      </ion-select-option>
    </ion-select> -->

    <!-- added by  ankit to add epic Manager -->

    <ion-buttons slot="end">
      <ion-button (click)="close()">
        <ion-icon name="arrow-down"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item lines="none">
    <ion-textarea
      style="width: 100%"
      auto-grow
      type="text"
      [(ngModel)]="epic.name"
    >
    </ion-textarea>
  </ion-item>

  <ion-item lines="none" style="margin-top: 10px">
    <ion-label position="stacked"> Description </ion-label>
    <ion-textarea
      placeholder="add more details to this epic..."
      style="width: 100%"
      auto-grow
      type="text"
      [(ngModel)]="epic.description"
      (change)="taskNameUpdated($event)"
    >
    </ion-textarea>
  </ion-item>

  <!-- select epic manager name -->
  <ion-item *ngIf="showField">
    <ion-label position="stacked"> Select Epic Manager </ion-label>

    <ion-select
      placeholder="Select Epic Manager"
      [multiple]="true"
      [(ngModel)]="selectedUsers"
    >
      <ion-select-option
        *ngFor="let user of projectMembers; index as i"
        style="text-align: left"
        [value]="user.employeeId"
      >
        {{user.firstName || ''}} {{user.lastName || ''}}
      </ion-select-option>
    </ion-select>
  </ion-item>

  <!-- show epic manager names -->
  <ion-item>
    <ion-label position="stacked">Epic Manager </ion-label>
    <ion-input disabled>{{epic.epicManagerName}}</ion-input>
  </ion-item>

  <ion-item lines="none" style="margin-top: 10px">
    <ion-label position="stacked"> Start Date </ion-label>
    <ion-datetime
      color="success"
      presentation="day-month-year"
      [preferWheel]="true"
      [(ngModel)]="epic.start"
    ></ion-datetime>
  </ion-item>
  <ion-item lines="none" style="margin-top: 10px">
    <ion-label position="stacked"> End Date </ion-label>
    <ion-datetime
      color="success"
      presentation="day-month-year"
      [preferWheel]="true"
      [(ngModel)]="epic.end"
    ></ion-datetime>
  </ion-item>
</ion-content>
<ion-footer>
  <ion-item
    lines="none"
    style="margin-top: 0px; background-color: var(--ion-color-light)"
  >
    <ion-note slot="start" style="width: 100px; font-size: 14px">
      Updated At
    </ion-note>
    <ion-note slot="start" style="font-size: 16px; font-weight: bold">
      {{epic.updatedAt | date:'dd MMMM, yyyy hh:mm a'}}
    </ion-note>
  </ion-item>
  <ion-item
    lines="none"
    style="margin-top: 0px; background-color: var(--ion-color-gray)"
  >
    <ion-note slot="start" style="width: 100px; font-size: 14px">
      Created At
    </ion-note>
    <ion-note slot="start" style="font-size: 16px; font-weight: bold">
      {{epic.createdAt | date:'dd MMMM, yyyy hh:mm a'}}
    </ion-note>
  </ion-item>
</ion-footer>
